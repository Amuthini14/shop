{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\User\\\\Desktop\\\\aa\\\\ShoppingCarte\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\User\\\\Desktop\\\\aa\\\\ShoppingCarte\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\User\\\\Desktop\\\\aa\\\\ShoppingCarte\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Axios from'axios';import{Icon,Col,Card,Row}from'antd';import ImageSlider from'../../utils/ImageSlider';import CheckBox from'./Sections/CheckBox';import RadioBox from'./Sections/RadioBox';import{categories,price}from'./Sections/Datas';var Meta=Card.Meta;function HomePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),Products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),Skip=_useState4[0],setSkip=_useState4[1];var _useState5=useState(8),_useState6=_slicedToArray(_useState5,2),Limit=_useState6[0],setLimit=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),PostSize=_useState8[0],setPostSize=_useState8[1];var _useState9=useState({categories:[],price:[]}),_useState10=_slicedToArray(_useState9,2),Filters=_useState10[0],setFilters=_useState10[1];var getProducts=function getProducts(variables){Axios.post('/api/product/getProducts',variables).then(function(response){if(response.data.success){if(variables.loadMore){setProducts([].concat(_toConsumableArray(Products),_toConsumableArray(response.data.products)));}else{setProducts(response.data.products);}setPostSize(response.data.postSize);}else{alert('Failed to fectch Product Details');}});};useEffect(function(){var variables={skip:Skip,limit:Limit};getProducts(variables);},[]);var onLoadMore=function onLoadMore(){var skip=Skip+Limit;var variables={skip:skip,limit:Limit,loadMore:true,filters:Filters};getProducts(variables);setSkip(skip);};var renderCards=Products.map(function(product,index){return/*#__PURE__*/React.createElement(Col,{lg:6,md:10,xs:24},/*#__PURE__*/React.createElement(Card,{hoverable:true,cover:/*#__PURE__*/React.createElement(\"a\",{href:\"/product/\".concat(product._id)},\" \",/*#__PURE__*/React.createElement(ImageSlider,{images:product.images}))},/*#__PURE__*/React.createElement(Meta,{title:product.title,description:\"$\".concat(product.price)})));});var showFilteredResults=function showFilteredResults(filters){var variables={skip:0,limit:Limit,filters:filters};getProducts(variables);setSkip(0);};var handlePrice=function handlePrice(value){var data=price;var array=[];for(var key in data){if(data[key]._id===parseInt(value,10)){array=data[key].array;}}console.log('array',array);return array;};var _handleFilters=function handleFilters(filters,category){var newFilters=_objectSpread({},Filters);newFilters[category]=filters;if(category===\"price\"){var priceValues=handlePrice(filters);newFilters[category]=priceValues;}console.log(newFilters);showFilteredResults(newFilters);setFilters(newFilters);};return/*#__PURE__*/React.createElement(\"div\",{style:{width:'75%',margin:'3rem auto'}},/*#__PURE__*/React.createElement(Row,{gutter:[16,16]},/*#__PURE__*/React.createElement(Col,{lg:12,xs:24},/*#__PURE__*/React.createElement(CheckBox,{list:categories,handleFilters:function handleFilters(filters){return _handleFilters(filters,\"categories\");}})),/*#__PURE__*/React.createElement(Col,{lg:12,xs:24},/*#__PURE__*/React.createElement(RadioBox,{list:price,handleFilters:function handleFilters(filters){return _handleFilters(filters,\"price\");}}))),Products.length===0?/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',height:'300px',justifyContent:'center',alignItems:'center'}},/*#__PURE__*/React.createElement(\"h2\",null,\"Product is Not Available..............\")):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,{gutter:[16,16]},renderCards)),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),PostSize>=Limit&&/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'center'}},/*#__PURE__*/React.createElement(\"button\",{onClick:onLoadMore,style:{backgroundColor:\"black\",color:\"white\"}},\"View More\")));}export default HomePage;","map":{"version":3,"sources":["C:/Users/User/Desktop/aa/ShoppingCarte/client/src/components/views/HomePage/HomePage.js"],"names":["React","useEffect","useState","Axios","Icon","Col","Card","Row","ImageSlider","CheckBox","RadioBox","categories","price","Meta","HomePage","Products","setProducts","Skip","setSkip","Limit","setLimit","PostSize","setPostSize","Filters","setFilters","getProducts","variables","post","then","response","data","success","loadMore","products","postSize","alert","skip","limit","onLoadMore","filters","renderCards","map","product","index","_id","images","title","showFilteredResults","handlePrice","value","array","key","parseInt","console","log","handleFilters","category","newFilters","priceValues","width","margin","length","display","height","justifyContent","alignItems","backgroundColor","color"],"mappings":"ohBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,IAApB,CAA0BC,GAA1B,KAAqC,MAArC,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,OAASC,UAAT,CAAsBC,KAAtB,KAAmC,kBAAnC,C,GAGQC,CAAAA,I,CAASP,I,CAATO,I,CAER,QAASC,CAAAA,QAAT,EAAoB,eAEgBZ,QAAQ,CAAC,EAAD,CAFxB,wCAETa,QAFS,eAECC,WAFD,8BAGQd,QAAQ,CAAC,CAAD,CAHhB,yCAGTe,IAHS,eAGHC,OAHG,8BAIUhB,QAAQ,CAAC,CAAD,CAJlB,yCAITiB,KAJS,eAIFC,QAJE,8BAKgBlB,QAAQ,EALxB,yCAKTmB,QALS,eAKCC,WALD,8BAOcpB,QAAQ,CAAC,CACnCS,UAAU,CAAE,EADuB,CAEnCC,KAAK,CAAE,EAF4B,CAAD,CAPtB,0CAOTW,OAPS,gBAOAC,UAPA,gBAYhB,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,SAAD,CAAe,CAC/BvB,KAAK,CAACwB,IAAN,CAAW,0BAAX,CAAuCD,SAAvC,EACKE,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,CAA2B,CACvB,GAAIL,SAAS,CAACM,QAAd,CAAwB,CACpBhB,WAAW,8BAAKD,QAAL,qBAAkBc,QAAQ,CAACC,IAAT,CAAcG,QAAhC,GAAX,CACH,CAFD,IAEO,CACHjB,WAAW,CAACa,QAAQ,CAACC,IAAT,CAAcG,QAAf,CAAX,CACH,CACDX,WAAW,CAACO,QAAQ,CAACC,IAAT,CAAcI,QAAf,CAAX,CACH,CAPD,IAOO,CACHC,KAAK,CAAC,kCAAD,CAAL,CACH,CACJ,CAZL,EAaH,CAdD,CAgBAlC,SAAS,CAAC,UAAM,CACZ,GAAMyB,CAAAA,SAAS,CAAG,CACdU,IAAI,CAAEnB,IADQ,CAEdoB,KAAK,CAAElB,KAFO,CAAlB,CAKAM,WAAW,CAACC,SAAD,CAAX,CACH,CAPQ,CAON,EAPM,CAAT,CAWA,GAAMY,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAIF,CAAAA,IAAI,CAAGnB,IAAI,CAAGE,KAAlB,CAEA,GAAMO,CAAAA,SAAS,CAAG,CACdU,IAAI,CAAEA,IADQ,CAEdC,KAAK,CAAElB,KAFO,CAGda,QAAQ,CAAE,IAHI,CAIdO,OAAO,CAAEhB,OAJK,CAAlB,CAOAE,WAAW,CAACC,SAAD,CAAX,CACAR,OAAO,CAACkB,IAAD,CAAP,CACH,CAZD,CAeA,GAAMI,CAAAA,WAAW,CAAGzB,QAAQ,CAAC0B,GAAT,CAAa,SAACC,OAAD,CAAUC,KAAV,CAAoB,CAEjD,mBAAO,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,EAAhB,CAAoB,EAAE,CAAE,EAAxB,eACH,oBAAC,IAAD,EACI,SAAS,CAAE,IADf,CAEI,KAAK,cAAE,yBAAG,IAAI,oBAAcD,OAAO,CAACE,GAAtB,CAAP,mBAAsC,oBAAC,WAAD,EAAa,MAAM,CAAEF,OAAO,CAACG,MAA7B,EAAtC,CAFX,eAII,oBAAC,IAAD,EACI,KAAK,CAAEH,OAAO,CAACI,KADnB,CAEI,WAAW,YAAMJ,OAAO,CAAC9B,KAAd,CAFf,EAJJ,CADG,CAAP,CAWH,CAbmB,CAApB,CAgBA,GAAMmC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACR,OAAD,CAAa,CAErC,GAAMb,CAAAA,SAAS,CAAG,CACdU,IAAI,CAAE,CADQ,CAEdC,KAAK,CAAElB,KAFO,CAGdoB,OAAO,CAAEA,OAHK,CAAlB,CAMAd,WAAW,CAACC,SAAD,CAAX,CACAR,OAAO,CAAC,CAAD,CAAP,CAEH,CAXD,CAaA,GAAM8B,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC3B,GAAMnB,CAAAA,IAAI,CAAGlB,KAAb,CACA,GAAIsC,CAAAA,KAAK,CAAG,EAAZ,CAEA,IAAK,GAAIC,CAAAA,GAAT,GAAgBrB,CAAAA,IAAhB,CAAsB,CAClB,GAAIA,IAAI,CAACqB,GAAD,CAAJ,CAAUP,GAAV,GAAkBQ,QAAQ,CAACH,KAAD,CAAQ,EAAR,CAA9B,CAA2C,CACvCC,KAAK,CAAGpB,IAAI,CAACqB,GAAD,CAAJ,CAAUD,KAAlB,CACH,CACJ,CACDG,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBJ,KAArB,EACA,MAAOA,CAAAA,KAAP,CACH,CAXD,CAaA,GAAMK,CAAAA,cAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAChB,OAAD,CAAUiB,QAAV,CAAuB,CAEzC,GAAMC,CAAAA,UAAU,kBAAQlC,OAAR,CAAhB,CAEAkC,UAAU,CAACD,QAAD,CAAV,CAAuBjB,OAAvB,CAEA,GAAIiB,QAAQ,GAAK,OAAjB,CAA0B,CACtB,GAAIE,CAAAA,WAAW,CAAGV,WAAW,CAACT,OAAD,CAA7B,CACAkB,UAAU,CAACD,QAAD,CAAV,CAAuBE,WAAvB,CAEH,CAEDL,OAAO,CAACC,GAAR,CAAYG,UAAZ,EAEAV,mBAAmB,CAACU,UAAD,CAAnB,CACAjC,UAAU,CAACiC,UAAD,CAAV,CACH,CAhBD,CAmBA,mBACI,2BAAK,KAAK,CAAE,CAAEE,KAAK,CAAE,KAAT,CAAgBC,MAAM,CAAE,WAAxB,CAAZ,eAEI,oBAAC,GAAD,EAAK,MAAM,CAAE,CAAC,EAAD,CAAK,EAAL,CAAb,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,eACI,oBAAC,QAAD,EACI,IAAI,CAAEjD,UADV,CAEI,aAAa,CAAE,uBAAA4B,OAAO,QAAIgB,CAAAA,cAAa,CAAChB,OAAD,CAAU,YAAV,CAAjB,EAF1B,EADJ,CADJ,cAQI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,eACI,oBAAC,QAAD,EACI,IAAI,CAAE3B,KADV,CAEI,aAAa,CAAE,uBAAA2B,OAAO,QAAIgB,CAAAA,cAAa,CAAChB,OAAD,CAAU,OAAV,CAAjB,EAF1B,EADJ,CARJ,CAFJ,CAkBKxB,QAAQ,CAAC8C,MAAT,GAAoB,CAApB,cACG,2BAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,MAAM,CAAE,OAA3B,CAAoCC,cAAc,CAAE,QAApD,CAA8DC,UAAU,CAAE,QAA1E,CAAZ,eACI,uEADJ,CADH,cAKG,4CACI,oBAAC,GAAD,EAAK,MAAM,CAAE,CAAC,EAAD,CAAK,EAAL,CAAb,EACKzB,WADL,CADJ,CAvBR,cA8BI,8BA9BJ,cA8BU,8BA9BV,CAgCKnB,QAAQ,EAAIF,KAAZ,eACG,2BAAK,KAAK,CAAE,CAAE2C,OAAO,CAAE,MAAX,CAAmBE,cAAc,CAAE,QAAnC,CAAZ,eACI,8BAAQ,OAAO,CAAE1B,UAAjB,CAA6B,KAAK,CAAI,CAAC4B,eAAe,CAAE,OAAlB,CAA2BC,KAAK,CAAC,OAAjC,CAAtC,cADJ,CAjCR,CADJ,CA0CH,CAED,cAAerD,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Axios from 'axios';\nimport { Icon, Col, Card, Row } from 'antd';\nimport ImageSlider from '../../utils/ImageSlider';\nimport CheckBox from './Sections/CheckBox';\nimport RadioBox from './Sections/RadioBox';\nimport { categories , price } from './Sections/Datas';\n\n\nconst { Meta } = Card;\n\nfunction HomePage() {\n\n    const [Products, setProducts] = useState([])\n    const [Skip, setSkip] = useState(0)\n    const [Limit, setLimit] = useState(8)\n    const [PostSize, setPostSize] = useState()\n    \n    const [Filters, setFilters] = useState({\n        categories: [],\n        price: []\n    })\n\n    const getProducts = (variables) => {\n        Axios.post('/api/product/getProducts', variables)\n            .then(response => {\n                if (response.data.success) {\n                    if (variables.loadMore) {\n                        setProducts([...Products, ...response.data.products])\n                    } else {\n                        setProducts(response.data.products)\n                    }\n                    setPostSize(response.data.postSize)\n                } else {\n                    alert('Failed to fectch Product Details')\n                }\n            })\n    }\n\n    useEffect(() => {\n        const variables = {\n            skip: Skip,\n            limit: Limit,\n        }\n\n        getProducts(variables)\n    }, [])\n\n   \n\n    const onLoadMore = () => {\n        let skip = Skip + Limit;\n\n        const variables = {\n            skip: skip,\n            limit: Limit,\n            loadMore: true,\n            filters: Filters\n        }\n\n        getProducts(variables)\n        setSkip(skip)\n    }\n\n\n    const renderCards = Products.map((product, index) => {\n\n        return <Col lg={6} md={10} xs={24}> \n            <Card\n                hoverable={true}\n                cover={<a href={`/product/${product._id}`} > <ImageSlider images={product.images} /></a>}\n            >\n                <Meta\n                    title={product.title}\n                    description={`$${product.price}`}\n                />\n            </Card>\n        </Col>\n    })\n\n\n    const showFilteredResults = (filters) => {\n\n        const variables = {\n            skip: 0,\n            limit: Limit,\n            filters: filters\n\n        }\n        getProducts(variables)\n        setSkip(0)\n\n    }\n\n    const handlePrice = (value) => {\n        const data = price;\n        let array = [];\n\n        for (let key in data) {\n            if (data[key]._id === parseInt(value, 10)) {\n                array = data[key].array;\n            }\n        }\n        console.log('array', array)\n        return array\n    }\n\n    const handleFilters = (filters, category) => {\n\n        const newFilters = { ...Filters }\n\n        newFilters[category] = filters\n\n        if (category === \"price\") {\n            let priceValues = handlePrice(filters)\n            newFilters[category] = priceValues\n\n        }\n\n        console.log(newFilters)\n\n        showFilteredResults(newFilters)\n        setFilters(newFilters)\n    }\n\n\n    return (\n        <div style={{ width: '75%', margin: '3rem auto' }}>\n            \n            <Row gutter={[16, 16]}>\n                <Col lg={12} xs={24} >\n                    <CheckBox\n                        list={categories }\n                        handleFilters={filters => handleFilters(filters, \"categories\")}\n                    />\n                </Col>\n                \n                <Col lg={12} xs={24}>\n                    <RadioBox \n                        list={price}\n                        handleFilters={filters => handleFilters(filters, \"price\")}\n                    />\n                </Col>\n            </Row>\n\n            {Products.length === 0 ?\n                <div style={{ display: 'flex', height: '300px', justifyContent: 'center', alignItems: 'center' }}>\n                    <h2>Product is Not Available..............</h2>\n                </div> :\n                \n                <div>                \n                    <Row gutter={[16, 16]}>\n                        {renderCards}\n                    </Row>\n                </div>\n            }\n\n            <br /><br />\n\n            {PostSize >= Limit &&\n                <div style={{ display: 'flex', justifyContent: 'center' }}>\n                    <button onClick={onLoadMore} style = {{backgroundColor: \"black\", color:\"white\"}}>View More</button>\n                </div>\n            }\n\n\n        </div>\n    )\n}\n\nexport default HomePage\n"]},"metadata":{},"sourceType":"module"}